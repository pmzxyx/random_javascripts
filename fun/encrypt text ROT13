javascript:var coding="abcdefghijklmnopqrstuvwxyzabcdefghijklmABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLM";function rot13(e){for(var n="",o=0;o<e.length;o++)character=e.charAt(o),(position=coding.indexOf(character))>-1&&(character=coding.charAt(position+13)),n+=character;return n}function t(e){return e.nodeType==e.TEXT_NODE}function r(e){t(e)&&(e.data=rot13(e.data))}for(j=0,S=window.getSelection();j<S.rangeCount;++j){var e=S.getRangeAt(j),n=e.startContainer,o=e.endContainer,a=e.startOffset,d=e.endOffset,i=n==o;if(!i||!t(n))for((q=document.createTreeWalker(e.commonAncestorContainer,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,null,!1)).currentNode=n,N=q.nextNode();N&&N!=o;N=q.nextNode())r(N);t(o)&&o.splitText(d),i||r(o),t(n)&&(r(k=n.splitText(a)),i&&(o=k),n=k),t(o)&&e.setEnd(o,o.data.length)}
